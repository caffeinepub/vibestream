{
  "kind": "feature_evidence_report",
  "features": [
    {
      "featureId": "feature-fix-the-infinite-loading-your-profile-screen-in-app-tsx-that-occurs-after-a-user-authenticates-via-internet-identity-the-profile-loading-state-must-resolve-correctly-in-all-cases-1-when-the-user-has-an-existing-profile-proceed-to-the-main-app-2-when-the-user-has-no-profile-show-the-profilesetupmodal-3-when-the-backend-query-errors-or-returns-null-empty-do-not-remain-stuck-show-an-appropriate-fallback-or-retry-option-ensure-the-react-query-profile-fetch-getmyprofile-or-equivalent-uses-the-authenticated-actor-handles-loading-error-success-states-exhaustively-and-does-not-stall-indefinitely-due-to-a-missing-actor-unauthenticated-call-or-unhandled-promise-rejection",
      "featureTitle": "Fix the infinite 'Loading your profile' screen in App.tsx that occurs after a user authenticates via Internet Identity. The profile loading state must resolve correctly in all cases: (1) when the user has an existing profile — proceed to the main app, (2) when the user has no profile — show the ProfileSetupModal, (3) when the backend query errors or returns null/empty — do not remain stuck; show an appropriate fallback or retry option. Ensure the React Query profile fetch (getMyProfile or equivalent) uses the authenticated actor, handles loading/error/success states exhaustively, and does not stall indefinitely due to a missing actor, unauthenticated call, or unhandled promise rejection.",
      "files": [
        "frontend/src/App.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "blob-storage@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0"
      ],
      "testIds": [
        "REQ-16"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-audit-the-usequeries-ts-hooks-that-fetch-the-current-user-s-profile-to-ensure-they-depend-on-an-authenticated-actor-being-available-before-firing-if-the-actor-is-not-yet-initialized-e-g-still-null-or-anonymous-the-query-should-be-disabled-enabled-false-rather-than-executing-and-returning-an-empty-error-result-that-causes-the-loading-state-to-hang-re-enable-and-refetch-automatically-once-the-authenticated-actor-is-ready",
      "featureTitle": "Audit the useQueries.ts hooks that fetch the current user's profile to ensure they depend on an authenticated actor being available before firing. If the actor is not yet initialized (e.g., still null or anonymous), the query should be disabled (enabled: false) rather than executing and returning an empty/error result that causes the loading state to hang. Re-enable and refetch automatically once the authenticated actor is ready.",
      "files": [
        "frontend/src/hooks/useQueries.ts"
      ],
      "components": [
        "authorization@4.0.0",
        "blob-storage@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0"
      ],
      "testIds": [
        "REQ-17"
      ],
      "confidence": "high"
    }
  ]
}